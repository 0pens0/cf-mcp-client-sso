---
applications:
  - name: cf-mcp-client-sso
    buildpacks:
      - java_buildpack_offline
    memory: 1G
    path: target/cf-mcp-client-1.6.0.jar
    instances: 1
    services:
      - sso
    env:
      JBP_CONFIG_OPEN_JDK_JRE: '{ jre: { version: 21.+ } }'
      # CF-SSO Configuration (will be bound via service)
      CF_SSO_CLIENT_ID: ${vcap.services.sso.credentials.client_id}
      CF_SSO_CLIENT_SECRET: ${vcap.services.sso.credentials.client_secret}
      CF_SSO_AUTH_URI: ${vcap.services.sso.credentials.auth_domain}/oauth/authorize
      CF_SSO_TOKEN_URI: ${vcap.services.sso.credentials.auth_domain}/oauth/token
      CF_SSO_USER_INFO_URI: ${vcap.services.sso.credentials.auth_domain}/userinfo
      CF_SSO_JWK_SET_URI: ${vcap.services.sso.credentials.auth_domain}/.well-known/jwks.json
